<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>学生管理系统 - 入口</title>
  <meta name="description" content="学生管理系统入口，提供仪表盘、管理端、教学洞察导航。">
  <link rel="stylesheet" href="/css/dashboard.css">
</head>
<body>
  <header class="top-bar">
    <div>
      <p class="eyebrow">学生管理系统</p>
      <h1>系统入口</h1>
      <p class="subhead">选择需要进入的功能模块。</p>
    </div>
    <div class="status-indicator success">入口已就绪</div>
  </header>

  <main class="content-area">
    <section class="content-block">
      <h2>快速入口</h2>
      <p class="panel-loading">请先登录后进入功能模块。</p>
      <div class="auth-actions">
        <a class="action-link" href="/login.html">前往登录</a>
        <a class="action-link" href="/register.html">注册账号</a>
      </div>
    </section>
    <section class="dashboard-grid">
      <article class="dashboard-panel">
        <div class="panel-header">
          <div>
            <h3>综合仪表盘</h3>
            <p>配置驱动的统计卡片、图表与榜单。</p>
          </div>
        </div>
        <a class="action-link" href="/dashboard.html">进入仪表盘</a>
      </article>

      <article class="dashboard-panel">
        <div class="panel-header">
          <div>
            <h3>管理端</h3>
            <p>学生 / 课程 / 考试 / 成绩管理与 Excel 导入导出。</p>
          </div>
        </div>
        <a class="action-link" href="/manage.html">进入管理端</a>
      </article>

      <article class="dashboard-panel">
        <div class="panel-header">
          <div>
            <h3>教学洞察</h3>
            <p>班级趋势、风险学生标注与个性化推荐。</p>
          </div>
        </div>
        <a class="action-link" href="/analysis.html">进入教学洞察</a>
      </article>

      <article class="dashboard-panel">
        <div class="panel-header">
          <div>
            <h3>资料库</h3>
            <p>维护学习资料与课程关键词。</p>
          </div>
        </div>
        <a class="action-link" href="/materials.html">进入资料库</a>
      </article>
    </section>
  </main>

  <footer class="page-footer">
    <p>请先完成登录配置与数据初始化后再进入具体模块。</p>
  </footer>

  <script type="module">
    import { fetchCurrentUser, resolveRoleRoute } from '/js/auth.js';
    const user = await fetchCurrentUser();
    if (user) {
      window.location.href = resolveRoleRoute(user.role);
    }
  </script>
</body>
</html>
